@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<h1>@ViewData["Title"]</h1>


<div class="row">
    <div class="col-md-5">
        <form asp-route-returnUrl="@Model.ReturnUrl" method="post">
            <h4>Create a new account.</h4>
            <hr />
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Input.FirstName" ></label>
                <input asp-for="Input.FirstName" class="form-control" >
                <span asp-validation-for="Input.FirstName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.LastName"></label>
                <input asp-for="Input.LastName" class="form-control" >
                <span asp-validation-for="Input.LastName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.Email"></label>
                <input asp-for="Input.Email" class="form-control" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>
             <div class="form-group"> 
                 <label>Program</label><br /> 
                 <select class="form-control dropdowns" asp-for="Input.ProgramId" asp-items="@Model.Programs">
                     <option value="">Select Program</option>
                 </select>
             </div> 
            <div class="form-group">
                <label asp-for="Input.Password"></label>
                <input asp-for="Input.Password" class="form-control"/>
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.ConfirmPassword"></label>
                <input asp-for="Input.ConfirmPassword" class="form-control" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>
            <small>
                Password must be 6 characters minimum and contain:
                <br />
                Uppercase & lowercase letters, numbers, and symbols
            </small>
            <div class="form-group">
                <input type="checkbox" id="privacyCheckbox" asp-for="Input.PrivacyPolicyIsChecked">
                <label for="privacyCheckbox">I agree to HIT Privacy Policy</label>
                <a onclick="myFunction()">
                    <i class="fas fa-info-circle"></i>
                </a>
            </div>
            <div id="Submit">
                <button type="submit" class="btn btn-primary">Register</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial"/>
    <script>
        $(document).ready(function () {
            //click function to open privacy modal
            $("#privacyBtn").click(function () {
                $("#privacyModal").modal()
            });

            //uncheck privacy checkbox on load
            $('#privacyCheckbox').prop( "checked", false );

            //hide the register button until the privacy agreement is checked
            $("#Submit").hide();

            //reveals the register button when privacy checkbox is checked
            $(function () {
                $('#privacyCheckbox').change(function () {
                    $('#Submit').toggle($(this).is(':checked'));
                });
            });
        });
        
        function myFunction() {
          var r = confirm("Waukesha County Technical Medical Center Privacy Policy \nGeneral Disclosure: \nWCTC HIT operates and maintains this web application. This page informs you of our policies regarding the collection, use, and disclosure of personal information we receive from users of the Site. We use your Personal Informaion only for providing and improving the website. By using the website, you agree to the collection and use of information in accordance with this policy. \nWCTMC Usage Policy \nAll data and information contained in the WCTMC electronic database is simulated, is to be used for educational purposes only. Do NOT enter any actual personally identifiable information for yourself or any other person beyond a first and last name. Do not access any information other than that which is necessary for completion of assigned work. Any access to this system, other than that required by your instructor, is equivalent to a HIPAA violation and will be addressed following the WCTC Academic Code of Conduct policies, and may include disciplinary action up to and including dismissal from the program. \n Information we collect and use: \n While using the website, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. Personally identifiable information may include, but is not limited to your name. \nLog Data: \nLike many site operators, we collect information that your browser sends whenever you visit our Site. This data may include information such as your IP address, browser type and version, pages of our Site that you visit, the time and date of your visit, the time spent on those pages and other statistics. \nThis Privacy Policy was last modified on 2/2/2020.");
          if (r == true) {
            document.getElementById(privacyCheckbox).click()
          }}
    </script>

}
